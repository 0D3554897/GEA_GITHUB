USE [IMAPSSTG]
GO

-- Add a XX_LOOKUP_DETAIL record for IMAPS Division 16 PLC_RATES Interface

DECLARE @order integer

SELECT @order = (MAX(PRESENTATION_ORDER) + 1) 
  FROM dbo.XX_LOOKUP_DETAIL
 WHERE LOOKUP_DOMAIN_ID = 1

INSERT INTO dbo.XX_LOOKUP_DETAIL
   (LOOKUP_DOMAIN_ID, APPLICATION_CODE, LOOKUP_DESCRIPTION, PRESENTATION_ORDER, CREATED_BY, CREATED_DATE)
   VALUES(1, 'PLC_RATES', 'DDOU PLC Rates Update', @order, SUSER_SNAME(), GETDATE())
GO

-- Add a XX_LOOKUP_DOMAIN record for PLC_RATES Interface control points

INSERT INTO dbo.XX_LOOKUP_DOMAIN
   (LOOKUP_DOMAIN_DESC, DOMAIN_CONSTANT, CREATED_BY, CREATED_DATE)
   VALUES('DDOU PLC Rates Update Control Points', 'LD_PLC_RATE_UPDATE_CTRL_PT', SUSER_SNAME(), GETDATE())
GO

-- Add XX_LOOKUP_DETAIL records for PLC_RATES Interface control points

DECLARE @domain_id integer
SELECT @domain_id = LOOKUP_DOMAIN_ID FROM dbo.XX_LOOKUP_DOMAIN WHERE DOMAIN_CONSTANT = 'LD_PLC_RATE_UPDATE_CTRL_PT'
INSERT INTO dbo.XX_LOOKUP_DETAIL VALUES(@domain_id, 'PLC_RATES1', 'Verify existence of DDOU PLC rates update data files', 1, SUSER_SNAME(), GETDATE(), NULL, NULL)
GO

DECLARE @domain_id integer
SELECT @domain_id = LOOKUP_DOMAIN_ID FROM dbo.XX_LOOKUP_DOMAIN WHERE DOMAIN_CONSTANT = 'LD_PLC_RATE_UPDATE_CTRL_PT'
INSERT INTO dbo.XX_LOOKUP_DETAIL VALUES(@domain_id, 'PLC_RATES2', 'Load SQL Server table via bcp', 2, SUSER_SNAME(), GETDATE(), NULL, NULL)
GO

DECLARE @domain_id integer
SELECT @domain_id = LOOKUP_DOMAIN_ID FROM dbo.XX_LOOKUP_DOMAIN WHERE DOMAIN_CONSTANT = 'LD_PLC_RATE_UPDATE_CTRL_PT'
INSERT INTO dbo.XX_LOOKUP_DETAIL VALUES(@domain_id, 'PLC_RATES3', 'Update Costpoint table directly and archive input data files', 3, SUSER_SNAME(), GETDATE(), NULL, NULL)
GO
