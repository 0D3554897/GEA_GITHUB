
-- CR 3728_Begin
-- Processing parameters shared ids fix - add queryout parameter
use imapsstg
DECLARE @INTERFACE_NAME_ID integer

SELECT @INTERFACE_NAME_ID = t2.LOOKUP_ID
  FROM dbo.XX_LOOKUP_DOMAIN t1,
       dbo.XX_LOOKUP_DETAIL t2
 WHERE t1.DOMAIN_CONSTANT  = 'LD_INTERFACE_NAME'
   AND t1.LOOKUP_DOMAIN_ID = t2.LOOKUP_DOMAIN_ID
   AND t2.APPLICATION_CODE = 'RETRORATE'

INSERT INTO dbo.XX_PROCESSING_PARAMETERS
   (INTERFACE_NAME_ID, INTERFACE_NAME_CD, PARAMETER_NAME, PARAMETER_VALUE, CREATED_BY, CREATED_DATE)
   VALUES(@INTERFACE_NAME_ID, 'RETRORATE', 'QUERYOUT_SQL', 'SELECT DISTINCT * FROM IMAPSStg.dbo.XX_RATE_RETRO_TS_PREP_ERRORS', SUSER_SNAME(), GETDATE())
go

use imapsstg
UPDATE XX_PROCESSING_PARAMETERS
SET PARAMETER_VALUE=''
WHERE INTERFACE_NAME_CD = 'RETRORATE' and PARAMETER_NAME in ('IN_USER_PASSWORD','IN_USER_NAME')
-- CR 3728_End

